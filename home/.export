#!/data/data/com.termux/files/usr/bin/bash

# Personal environment variables
export \
  COMPUTER_ADDRESS=Zulfilham@192.168.43.237 \
  KEYREF=~/ENCRYPTION_KEY \
  PROMPT_DIRTRIM=0 \
  EDITOR=vim;

# General environment variables
export COLUMNS LINES \
   PATH="$PATH:~/bin" \
   TERMUX=/data/data/com.termux \
   FILES=/data/data/com.termux/files \
   ETC="$PREFIX/etc" \
   BIN="$PREFIX/bin" \
   SHARE="$PREFIX/share" \
   NANORC="$PREFIX/share/nano" \
   VIMRC="$PREFIX/share/vim" \
   INTERNAL=/storage/emulated/0 \
   EXTERNAL=$(echo /storage/[A-Z0-9][A-Z0-9][A-Z0-9][A-Z0-9]-[A-Z0-9][A-Z0-9][A-Z0-9][A-Z0-9]);

if [ -d $EXTERNAL ]; then
   EXTERNAL_STORAGE=$EXTERNAL/Android/data/com.termux;

   if [ -e $EXTERNAL_STORAGE ]; then
      if [ ! -d $EXTERNAL_STORAGE ]; then
         if su --command "rm $EXTERNAL_STORAGE" &> /dev/null; then
            su --command "mkdir -p $EXTERNAL_STORAGE";
         else
            unset EXTERNAL_STORAGE;
         fi;
      fi;
   else
      if ! su --command "mkdir -p $EXTERNAL_STORAGE" &> /dev/null; then
         unset EXTERNAL_STORAGE;
      fi;
   fi;
else
   unset EXTERNAL;
fi;
